<!doctype html>
<body>
    <canvas id="gameCanvas" width="600" height="600"></canvas>
    <script>
        var canvas, canvasContext;

        window.onload = function() {
            canvas = document.getElementById('gameCanvas');
            canvasContext = canvas.getContext('2d');

            document.addEventListener('keydown', keyPressed);
            document.addEventListener('keyup', keyReleased);
                        
            setInterval(mainloop, 1000 / 50);
        }
        
                
        var player = new Image();
        player.src = 'images/player.png'
        
        const PLAYER_SIZE = 70; 
        var playerXpos = 300 - (PLAYER_SIZE / 2);
        var playerYpos = 600 - PLAYER_SIZE;
        var playerXspeed = 5;
        var playerYspeed = 4;
        
        const ENEMY_SIZE = 20; 
        var enemyXpos = 0;
        var enemyYpos = 0;
        var enemyXspeed = 5;
        var enemyYspeed = 4;
        
        var leftKeyPress = false;
        var rightKeyPress = false;
        var upKeyPress = false;
        var downKeyPress = false;
        
        const LEFT_KEY = 37;
        const RIGHT_KEY = 39;
        const UP_KEY = 38;
        const DOWN_KEY = 40;
        
        var hit = false;
        
        var enemies = [];
        
        function makeEnemies(){
            var enemyPos = Math.floor(Math.random()*4) + 1;
            
            var enemyXpos = enemyXpos * (canvas.width / 4);
            var enemyYpos = 0 - ENEMY_SIZE;
            var enemyXspeed = Math.floor(Math.random()*(8-4)+4);
            var enemyYspeed = Math.floor(Math.random()*(10-4)+4);
            const ENEMY_SIZE = 20;
        } 
        
        function mainloop() {
            colorRect(0,0,canvas.width,canvas.height,'black'); // bg
            drawImg(player, playerXpos, playerYpos, PLAYER_SIZE, PLAYER_SIZE); // player
            colorRect(enemyXpos, enemyYpos, ENEMY_SIZE, ENEMY_SIZE, 'red')
            
            
            playerMove();
            enemyMove();
        }
        
        function colorRect(x,y,w,h,c){
            canvasContext.fillStyle = c;
            canvasContext.fillRect(x,y,w,h);
        }
        
        function drawImg (src, x, y, w,h) {
            canvasContext.drawImage(src, x, y, w, h);
        }
        
        
        function keyPressed(evt){
            if(evt.keyCode == LEFT_KEY){
                leftKeyPress = true;
            }
            if(evt.keyCode == RIGHT_KEY){
                rightKeyPress = true;
            }
            if(evt.keyCode == UP_KEY){
                upKeyPress = true;
            }
            if(evt.keyCode == DOWN_KEY){
                downKeyPress = true;
            }
            
        }  
        
        function keyReleased(evt){
            if(evt.keyCode == LEFT_KEY){
                leftKeyPress = false;
            }
            if(evt.keyCode == RIGHT_KEY){
                rightKeyPress = false;
            }
            if(evt.keyCode == UP_KEY){
                upKeyPress = false;
            }
            if(evt.keyCode == DOWN_KEY){
                downKeyPress = false;
            }
            
        }
        
        function playerMove(){
            if(leftKeyPress == true && playerXpos > 0){
                playerXpos -= playerXspeed;
            };
            if(rightKeyPress == true && playerXpos < canvas.width - PLAYER_SIZE){
                playerXpos += playerXspeed;
            };
            if(upKeyPress == true && playerYpos > 0) {
                playerYpos -= playerYspeed;
            };
            if(downKeyPress == true && playerYpos < canvas.height - PLAYER_SIZE){
                playerYpos += playerYspeed;
            };
            
        }
    
        function enemyMove(){
            enemyYpos += enemyYspeed;
            
            if (enemyYpos > canvas.height){
                enemyYpos = 0 - ENEMY_SIZE;
                enemyXpos = Math.floor(Math.random()*(canvas.width - ENEMY_SIZE));                
                enemyYspeed = Math.floor(Math.random()*(10-4)+4);
            }
            
            if (enemyYpos + ENEMY_SIZE > playerYpos && playerYpos + PLAYER_SIZE > enemyYpos && enemyXpos + ENEMY_SIZE > playerXpos && playerXpos + PLAYER_SIZE > playerXpos){
                hit = true;
                enemyYpos = canvas.height+1;
                player
                playerXpos = 300 - (PLAYER_SIZE / 2);
                playerYpos = 600 - PLAYER_SIZE;
                hit = false;
            }
                
        }
        
    </script>
</body>
